{"version":3,"sources":["webpack:///src/app/user/mapa/mapa-routing.module.ts","webpack:///src/app/user/mapa/mapa.module.ts","webpack:///src/app/user/mapa/mapa.page.html","webpack:///src/app/user/mapa/mapa.page.ts","webpack:///src/app/user/mapa/mapa.page.scss"],"names":["routes","path","component","MapaPageRoutingModule","imports","forChild","exports","MapaPageModule","declarations","Geolocation","MapaPage","lc","router","zone","http","us","solServ","platform","autocomplete","input","comunas","showIcon","GoogleAutocomplete","google","maps","places","AutocompleteService","autocompleteItems","userSub","loggedUser","subscribe","user","grabbedUser","headers","set","access_token","getComunes","form","address","updateOn","validators","required","addressDirection","addressInstructions","loadMap","create","message","then","loadingEl","present","is","getCurrentPosition","resData","dismiss","latLng","LatLng","coords","latitude","longitude","err","mapOptions","center","zoom","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","mapTypeId","MapTypeId","ROADMAP","map","Map","mapRef","nativeElement","addListener","marker","Marker","position","draggable","setMap","e","addMarker","error","console","log","location","getPlacePredictions","types","componentRestrictions","country","predictions","status","run","forEach","prediction","push","item","placeid","place_id","wAddress","description","split","patchValue","setAddress","comuna","name","toLowerCase","substring","setComuna","id","clearAutocomplete","setInstructions","value","navigate","unsubscribe","a","get","Authorization","response","data","event","show","read","selector","template"],"mappings":"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","file":"user-mapa-mapa-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MapaPage } from './mapa.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MapaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapaPageRoutingModule } from './mapa-routing.module';\n\nimport { MapaPage } from './mapa.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MapaPageRoutingModule\n  ],\n  declarations: [MapaPage]\n})\nexport class MapaPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button color=\\\"primary\\\" defaultHref=\\\"/user/home\\\" text=\\\"\\\" icon=\\\"arrow-back\\\"></ion-back-button>\\n      <ion-menu-button color=\\\"primary\\\" menu=\\\"user\\\"></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"main-color title-toolbar ion-text-uppercase\\\">¿Dónde nos necesitas?</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div>\\n    <div #map id=\\\"map\\\">\\n\\n    </div>\\n    <ion-fab class=\\\"controls\\\" horizontal=\\\"end\\\" vertical=\\\"top\\\" slot=\\\"fixed\\\">\\n      <ion-fab-button class=\\\"float-bottom\\\" color=\\\"white\\\" (click)=\\\"loadMap()\\\">\\n        <ion-icon name=\\\"locate\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-fab-button>\\n      <!--\\n      <ion-fab-button class=\\\"float-bottom\\\" color=\\\"white\\\" (click)=\\\"showCords()\\\">\\n        <ion-icon name=\\\"information-circle-outline\\\" color=\\\"primary\\\"></ion-icon>\\n      </ion-fab-button>\\n      -->\\n    </ion-fab>\\n  </div>\\n\\n  <!-- nombre -->\\n  <ion-grid class=\\\"top-center\\\">\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <ion-searchbar class=\\\"search_bar_map\\\" placeholder=\\\"¿Cuál es la dirección?\\\" [(ngModel)]=\\\"autocomplete.input\\\"\\n          (ionChange)=\\\"updateSearchResults($event)\\\" searchIcon=\\\"{{showIcon ? 'search-outline' : '/assets/icon/empty.svg'}}\\\"\\n          (ionClear)=\\\"clearAutocomplete()\\\" color=\\\"transparent\\\" (ionFocus)=\\\"showSearchIcon($event, false)\\\" (ionBlur)=\\\"showSearchIcon($event, true)\\\">\\n        </ion-searchbar>\\n        <ion-list [hidden]=\\\"autocompleteItems.length == 0\\\">\\n          <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"selectSearchResult(item)\\\">\\n            {{ item.description }}\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"12\\\">\\n        <ion-toolbar class=\\\"ion-no-padding\\\">\\n          <ion-grid>\\n\\n            <!-- title -->\\n            <!-- <ion-row class=\\\"ion-no-padding ion-no-margin\\\">\\n              <ion-col size=\\\"10\\\" offset=\\\"1\\\" class=\\\"ion-text-center\\\">\\n                <ion-text class=\\\"main-color ion-text-uppercase title\\\">CONFIRMA TU DIRECCIÓN</ion-text>\\n              </ion-col>\\n              <ion-col size=\\\"1\\\"></ion-col>\\n              <ion-col size=\\\"1\\\" offset=\\\"1\\\"></ion-col>\\n              <ion-col size=\\\"8\\\" class=\\\"ion-text-center\\\">\\n                <ion-text><hr></ion-text>\\n              </ion-col>\\n              <ion-col size=\\\"1\\\"></ion-col>\\n            </ion-row> -->\\n\\n            <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"searchPro()\\\" class=\\\"form-padding\\\">\\n              <ion-row class=\\\"ion-justify-content-center\\\">\\n                <ion-col size=\\\"12\\\">\\n                  <ion-title class=\\\"main-color title ion-text-uppercase\\\">\\n                    Confirma tu dirección\\n                  </ion-title>\\n                </ion-col>\\n                <ion-col size=\\\"6\\\">\\n                  <hr />\\n                </ion-col>\\n              </ion-row>\\n              <!-- detalles de la direccion -->\\n              <ion-row class=\\\"ion-no-padding ion-no-margion\\\">\\n                <ion-col size=\\\"12\\\">\\n                  <ion-item class=\\\"ion-no-padding\\\">\\n                    <ion-label position=\\\"floating\\\" class=\\\"main-color ion-no-margin\\\">\\n                      <ion-icon src=\\\"/assets/icon/ic_place.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n                      <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Dirección</ion-text>\\n                    </ion-label>\\n                    <ion-input type=\\\"text\\\" formControlName=\\\"address\\\"></ion-input>\\n                  </ion-item>\\n                </ion-col>\\n              </ion-row>\\n              <ion-row class=\\\"ion-no-padding ion-no-margion\\\">\\n                <ion-col size=\\\"12\\\">\\n                  <ion-item class=\\\"ion-no-padding\\\">\\n                    <ion-label position=\\\"floating\\\" class=\\\"main-color ion-no-margin\\\">\\n                      <ion-icon src=\\\"/assets/icon/ic_tag.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n                      <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Detalles de la dirección ej. casa, oficina\\n                      </ion-text>\\n                    </ion-label>\\n                    <ion-input type=\\\"text\\\" formControlName=\\\"addressDirection\\\"></ion-input>\\n                  </ion-item>\\n                </ion-col>\\n              </ion-row>\\n              <ion-row class=\\\"ion-no-padding ion-no-margion\\\">\\n                <ion-col size=\\\"12\\\">\\n                  <ion-item class=\\\"ion-no-padding\\\">\\n                    <ion-label position=\\\"floating\\\" class=\\\"main-color ion-no-margin\\\">\\n                      <ion-icon src=\\\"/assets/icon/ic_speaker_notes.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n                      <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Agregar instrucciones ej. tocar el timbre\\n                      </ion-text>\\n                    </ion-label>\\n                    <ion-input type=\\\"text\\\" formControlName=\\\"addressInstructions\\\"></ion-input>\\n                  </ion-item>\\n                </ion-col>\\n              </ion-row>\\n              <br />\\n              <br />\\n              <!-- find BTN -->\\n              <ion-button size=\\\"10\\\" expand=\\\"block\\\" class=\\\"ion-text-uppercase btn-submit\\\" type=\\\"submit\\\"\\n                [disabled]=\\\"!form.valid\\\">\\n                CONTINUAR\\n              </ion-button>\\n            </form>\\n\\n          </ion-grid>\\n        </ion-toolbar>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\";","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, ElementRef, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Capacitor, Plugins } from '@capacitor/core';\nimport { LoadingController, Platform } from '@ionic/angular';\nimport axios from 'axios';\nimport { Subscription } from 'rxjs';\n\nimport { User } from 'src/app/model/user.model';\nimport { SolicitudService } from 'src/app/services/solicitud.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { API } from 'src/environments/environment';\n\nconst { Geolocation } = Plugins;\n// import {google} from 'google-maps';\ndeclare var google: any;\n\n@Component({\n  selector: 'app-mapa',\n  templateUrl: './mapa.page.html',\n  styleUrls: ['./mapa.page.scss'],\n})\nexport class MapaPage implements OnInit, OnDestroy {\n  @ViewChild('map', { read: ElementRef, static: false }) mapRef: ElementRef;\n  map: any;\n  // lat: string;\n  // long: string;  \n  autocomplete: { input: string; } = { input: '-' };\n  autocompleteItems: any[];\n  placeid: any;\n  GoogleAutocomplete: any;\n  comunas = [];\n  headers: HttpHeaders;\n  grabbedUser: User;\n  userSub: Subscription;\n  marker: any;\n  form: FormGroup;\n  showIcon = true;\n\n  constructor(\n    // private geolocation: Geolocation,\n    // private nativeGeocoder: NativeGeocoder,\n    private lc: LoadingController,\n    private router: Router,\n    public zone: NgZone,\n    private http: HttpClient,\n    private us: UserService,\n    private solServ: SolicitudService,\n    private platform: Platform,\n  ) {\n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.autocompleteItems = [];\n  }\n\n  ngOnInit() {\n    this.userSub = this.us.loggedUser.subscribe(user => {\n      this.grabbedUser = user;\n      this.headers = new HttpHeaders();\n      this.headers = this.headers.set('Authorization', 'Bearer ' + user.access_token);\n      this.getComunes();\n    });\n    // form\n    this.form = new FormGroup({\n      address: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      addressDirection: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      addressInstructions: new FormControl(null, {\n        updateOn: 'blur'\n      }),\n    });\n  }\n\n  ionViewDidEnter() {\n    this.loadMap();\n  }\n\n  loadMap() {\n    this.lc.create({\n      message: 'Generando mapa...'\n    }).then(async loadingEl => {\n      loadingEl.present();\n      let latLng;\n      if ((this.platform.is('mobile') && !this.platform.is('hybrid')) || this.platform.is('desktop')) {\n        Geolocation.getCurrentPosition().then(resData => {\n          loadingEl.dismiss();\n          latLng = new google.maps.LatLng(resData.coords.latitude, resData.coords.longitude);\n        }, err => {\n          loadingEl.dismiss();\n          latLng = new google.maps.LatLng(-33.5615548, -71.6251603);\n        });\n      } else {\n        // get location from device\n        const coords = await Geolocation.getCurrentPosition();\n        latLng = new google.maps.LatLng(coords.coords.latitude, coords.coords.longitude);\n      }\n\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        zoomControl: false,\n        streetViewControl: false,\n        mapTypeControl: false,\n        fullscreenControl: false,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n      //load map\n      // this.getAddressFromCords(res.coords.latitude, res.coords.longitude);\n      this.map = new google.maps.Map(this.mapRef.nativeElement, mapOptions);\n      this.map.addListener('tilesloaded', () => {\n\n      });\n      //marker\n      this.marker = new google.maps.Marker({\n        position: latLng,\n        draggable: true,\n        map: this.map\n      });\n      this.marker.setMap(this.map);\n      //click\n      this.map.addListener('click', e => {\n        this.addMarker(e.latLng, this.map);\n      });\n      loadingEl.dismiss();\n    }).catch(error => {\n      console.log(error)\n      this.lc.dismiss();\n    });\n  }\n\n  addMarker(location, map) {\n    // Add the marker at the clicked location,\n    if (this.marker) {\n      this.marker.setMap(null);\n    }\n    this.marker = new google.maps.Marker({\n      position: location,\n      draggable: true,\n      map: map,\n    });\n    this.marker.setMap(this.map);\n  }\n\n  getAddressFromCords(latitude, longitude) { }\n\n  updateSearchResults() {\n    if (this.autocomplete.input == '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({\n      input: this.autocomplete.input,\n      types: ['address'],\n      componentRestrictions: { country: 'cl' }\n    },\n      (predictions, status) => {\n        this.autocompleteItems = [];\n        this.zone.run(() => {\n          predictions.forEach((prediction) => {\n            this.autocompleteItems.push(prediction);\n          });\n        });\n      });\n  }\n\n  selectSearchResult(item) {\n    this.placeid = item.place_id\n\n    let wAddress = item.description.split(',');\n\n    this.form.patchValue({\n      'address': item.description\n    });\n    //save to solicitud service\n    this.solServ.setAddress(item.description);\n    //save comuna id to solicitud service\n    this.comunas.forEach(comuna => {\n      if (comuna.name.toLowerCase() === wAddress[1].substring(1).toLowerCase()) {\n        console.log('true')\n        this.solServ.setComuna(comuna.id);\n      } else {\n\n      }\n    });\n    this.clearAutocomplete();\n  }\n\n  clearAutocomplete() {\n    this.autocompleteItems = [];\n    this.autocomplete.input = '';\n  }\n\n  searchPro() {\n    this.solServ.setInstructions(this.form.value.addressInstructions);\n    this.router.navigate(['/user/profesional-list']);\n  }\n\n  ngOnDestroy() {\n    this.userSub.unsubscribe();\n  }\n\n  async getComunes() {\n    try {\n      let response = await axios.get(\n        `${API}/location/communes`,\n        {\n          headers: {\n            Authorization: `Bearer ${this.grabbedUser.access_token}`\n          }\n        }\n      );\n      this.comunas = response.data.data;\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  showSearchIcon(event: any, show: boolean) {\n    this.showIcon = show;\n  }\n}\n","export default \"#map {\\n  min-height: 460px;\\n}\\n@media (min-height: 768px) {\\n  #map {\\n    min-height: 530px;\\n  }\\n}\\n.title {\\n  font-size: 18px;\\n  font-weight: bold;\\n  word-wrap: unset;\\n  padding: 0;\\n  margin-top: 10px;\\n  position: relative;\\n  text-align: center;\\n}\\nhr {\\n  border-top: 1px solid #e54360;\\n}\\n.top-center {\\n  position: absolute;\\n  width: 100%;\\n  top: 30px;\\n}\\n.underline-red {\\n  text-decoration: underline;\\n  -webkit-text-decoration-color: #e54360;\\n          text-decoration-color: #e54360;\\n}\\n.floating-input {\\n  background-color: white;\\n  border: 1px solid #009ace;\\n}\\n.locate-cont {\\n  border-radius: 50px;\\n  height: 42px;\\n  width: 42px;\\n  background-color: white;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  position: absolute;\\n  right: 11%;\\n  top: 30%;\\n}\\n.scan-cont {\\n  border-radius: 50px;\\n  height: 42px;\\n  width: 42px;\\n  background-color: white;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  position: absolute;\\n  right: 11%;\\n  top: 42%;\\n}\\n.rating-text {\\n  font-size: 18px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n.search_bar_map {\\n  text-align: left;\\n  background: #ffffff;\\n  border: solid 1px #009ace;\\n  color: #009ace;\\n  padding: 0;\\n}\\n.search_bar_map::-moz-placeholder {\\n  text-align: left;\\n}\\n.search_bar_map::placeholder {\\n  text-align: left;\\n}\\n.searchbar-input:focus .searchbar-search-icon {\\n  display: none;\\n}\\n.searchbar-input-container {\\n  --background: #ffffff !important;\\n  background-color: #ffffff !important;\\n  background: #ffffff !important;\\n  text-align: left;\\n}\\n.float-bottom {\\n  background-color: white;\\n  margin-bottom: 8px;\\n  border-radius: 50%;\\n}\\nhr {\\n  border-top: 1px solid #e54360;\\n}\\n.controls {\\n  top: 140px;\\n}\\n.form-padding {\\n  position: relative;\\n  padding: 0 10px 40px 10px;\\n}\\n/*\\n.btn-submit {\\n  margin: auto;\\n  margin-bottom: 10px;\\n  position: absolute;\\n  bottom: 0;\\n  width: 210px;\\n  right: 0;\\n  left: 0;\\n}\\n*/\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21hcGEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsaUJBQUE7QUFBRjtBQUVFO0VBSkY7SUFLSSxpQkFBQTtFQUNGO0FBQ0Y7QUFDQTtFQUNFLGVBQUE7RUFDQSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsVUFBQTtFQUNBLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQUVGO0FBQUE7RUFDRSw2QkFBQTtBQUdGO0FBREE7RUFDRSxrQkFBQTtFQUNBLFdBQUE7RUFDQSxTQUFBO0FBSUY7QUFGQTtFQUNFLDBCQUFBO0VBQ0Esc0NBQUE7VUFBQSw4QkFBQTtBQUtGO0FBSEE7RUFDRSx1QkFBQTtFQUNBLHlCQUFBO0FBTUY7QUFKQTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSx1QkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFFBQUE7QUFPRjtBQUxBO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtBQVFGO0FBTkE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQVNGO0FBUEE7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0VBQ0EseUJBQUE7RUFDQSxjQUFBO0VBQ0EsVUFBQTtBQVVGO0FBUkU7RUFDRSxnQkFBQTtBQVVKO0FBWEU7RUFDRSxnQkFBQTtBQVVKO0FBTEk7RUFDRSxhQUFBO0FBUU47QUFIQTtFQUNFLGdDQUFBO0VBQ0Esb0NBQUE7RUFDQSw4QkFBQTtFQUNBLGdCQUFBO0FBTUY7QUFIQTtFQUNFLHVCQUFBO0VBQ0Esa0JBQUE7RUFDQSxrQkFBQTtBQU1GO0FBSEE7RUFDRSw2QkFBQTtBQU1GO0FBSEE7RUFDRSxVQUFBO0FBTUY7QUFIQTtFQUNFLGtCQUFBO0VBQ0EseUJBQUE7QUFNRjtBQUhBOzs7Ozs7Ozs7O0NBQUEiLCJmaWxlIjoibWFwYS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjbWFwIHtcbiAgLy9oZWlnaHQ6IDEwMCU7XG4gIG1pbi1oZWlnaHQ6IDQ2MHB4O1xuXG4gIEBtZWRpYSAobWluLWhlaWdodDogNzY4cHgpIHtcbiAgICBtaW4taGVpZ2h0OiA1MzBweDtcbiAgfVxufVxuLnRpdGxlIHtcbiAgZm9udC1zaXplOiAxOHB4O1xuICBmb250LXdlaWdodDogYm9sZDtcbiAgd29yZC13cmFwOiB1bnNldDtcbiAgcGFkZGluZzogMDtcbiAgbWFyZ2luLXRvcDogMTBweDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5ociB7XG4gIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZTU0MzYwO1xufVxuLnRvcC1jZW50ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHdpZHRoOiAxMDAlO1xuICB0b3A6IDMwcHg7XG59XG4udW5kZXJsaW5lLXJlZCB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xuICB0ZXh0LWRlY29yYXRpb24tY29sb3I6ICNlNTQzNjA7XG59XG4uZmxvYXRpbmctaW5wdXQge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzAwOWFjZTtcbn1cbi5sb2NhdGUtY29udCB7XG4gIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gIGhlaWdodDogNDJweDtcbiAgd2lkdGg6IDQycHg7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDExJTtcbiAgdG9wOiAzMCU7XG59XG4uc2Nhbi1jb250IHtcbiAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgaGVpZ2h0OiA0MnB4O1xuICB3aWR0aDogNDJweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMTElO1xuICB0b3A6IDQyJTtcbn1cbi5yYXRpbmctdGV4dCB7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbi5zZWFyY2hfYmFyX21hcCB7XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmY7XG4gIGJvcmRlcjogc29saWQgMXB4ICMwMDlhY2U7XG4gIGNvbG9yOiAjMDA5YWNlO1xuICBwYWRkaW5nOiAwO1xuXG4gICY6OnBsYWNlaG9sZGVyIHtcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xuICB9XG59XG4uc2VhcmNoYmFyLWlucHV0IHtcbiAgJjpmb2N1cyB7XG4gICAgLnNlYXJjaGJhci1zZWFyY2gtaWNvbiB7XG4gICAgICBkaXNwbGF5OiBub25lO1xuICAgIH1cbiAgfVxufVxuXG4uc2VhcmNoYmFyLWlucHV0LWNvbnRhaW5lciB7XG4gIC0tYmFja2dyb3VuZDogI2ZmZmZmZiAhaW1wb3J0YW50O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmZmZmICFpbXBvcnRhbnQ7XG4gIGJhY2tncm91bmQ6ICNmZmZmZmYgIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogbGVmdDtcbn1cblxuLmZsb2F0LWJvdHRvbSB7XG4gIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gIGJvcmRlci1yYWRpdXM6IDUwJTtcbn1cblxuaHIge1xuICBib3JkZXItdG9wOiAxcHggc29saWQgI2U1NDM2MDtcbn1cblxuLmNvbnRyb2xzIHtcbiAgdG9wOiAxNDBweDtcbn1cblxuLmZvcm0tcGFkZGluZyB7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgcGFkZGluZzogMCAxMHB4IDQwcHggMTBweDtcbn1cblxuLypcbi5idG4tc3VibWl0IHtcbiAgbWFyZ2luOiBhdXRvO1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIGJvdHRvbTogMDtcbiAgd2lkdGg6IDIxMHB4O1xuICByaWdodDogMDtcbiAgbGVmdDogMDtcbn1cbiovXG4iXX0= */\";"]}