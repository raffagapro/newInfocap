{"version":3,"sources":["webpack:///src/app/user/mapa/mapa-routing.module.ts","webpack:///src/app/user/mapa/mapa.module.ts","webpack:///src/app/user/mapa/mapa.page.html","webpack:///src/app/user/mapa/mapa.page.ts","webpack:///src/app/user/mapa/mapa.page.scss"],"names":["routes","path","component","MapaPageRoutingModule","imports","forChild","exports","MapaPageModule","declarations","Geolocation","MapaPage","lc","router","zone","http","us","solServ","platform","comunas","GoogleAutocomplete","google","maps","places","AutocompleteService","autocomplete","input","autocompleteItems","userSub","loggedUser","subscribe","user","grabbedUser","headers","set","access_token","get","resData","form","address","updateOn","validators","required","loadMap","create","message","then","loadingEl","present","is","getCurrentPosition","console","log","dismiss","latLng","LatLng","coords","latitude","longitude","err","mapOptions","center","zoom","zoomControl","streetViewControl","mapTypeControl","fullscreenControl","mapTypeId","MapTypeId","ROADMAP","map","Map","mapRef","nativeElement","addListener","marker","Marker","position","draggable","setMap","e","addMarker","location","getPlacePredictions","types","componentRestrictions","country","predictions","status","run","forEach","prediction","push","item","placeid","place_id","wAddress","description","split","setAddress","comuna","name","substring","toLowerCase","setComuna","id","clearAutocomplete","navigate","unsubscribe","read","selector","template"],"mappings":"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","file":"user-mapa-mapa-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MapaPage } from './mapa.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MapaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MapaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MapaPageRoutingModule } from './mapa-routing.module';\n\nimport { MapaPage } from './mapa.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    MapaPageRoutingModule\n  ],\n  declarations: [MapaPage]\n})\nexport class MapaPageModule {}\n","export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/user/home\\\" text=\\\"\\\" icon=\\\"arrow-back\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"main-color title-toolbar ion-text-uppercase\\\">Ubicación</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div #map id=\\\"map\\\"></div>\\n\\n  <ion-fab horizontal=\\\"start\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button color=\\\"primary\\\" (click)=\\\"loadMap()\\\">\\n      <ion-icon name=\\\"locate\\\" color=\\\"light\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab>\\n  \\n  <!-- throw alert with cords  -->\\n  <!-- <ion-fab vertical=\\\"bottom\\\" horizontal=\\\"start\\\" slot=\\\"fixed\\\">\\n    <ion-fab-button (click)=\\\"showCords()\\\" ion-fab color=\\\"tertiary\\\">\\n      <ion-icon name=\\\"information-circle-outline\\\"></ion-icon>\\n    </ion-fab-button>\\n  </ion-fab> -->\\n\\n  <!-- nombre -->\\n  <ion-grid class=\\\"top-center\\\">\\n    <ion-row>\\n      <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n        <ion-searchbar\\n          color=\\\"primary\\\"\\n          placeholder=\\\"¿Cuál es la dirección?\\\"\\n          [(ngModel)]=\\\"autocomplete.input\\\"\\n          (ionChange)=\\\"updateSearchResults($event)\\\" \\n          (ionClear)=\\\"clearAutocomplete()\\\"\\n          animated\\n          >\\n        </ion-searchbar>\\n        <ion-list [hidden]=\\\"autocompleteItems.length == 0\\\">\\n          <ion-item *ngFor=\\\"let item of autocompleteItems\\\" tappable (click)=\\\"selectSearchResult(item)\\\">\\n            {{ item.description }}\\n          </ion-item>\\n        </ion-list>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n</ion-content>\\n\\n<ion-footer>\\n  <ion-toolbar class=\\\"ion-no-padding\\\">\\n    <ion-grid>\\n\\n      <!-- title -->\\n      <!-- <ion-row class=\\\"ion-no-padding ion-no-margin\\\">\\n        <ion-col size=\\\"10\\\" offset=\\\"1\\\" class=\\\"ion-text-center\\\">\\n          <ion-text class=\\\"main-color ion-text-uppercase title\\\">CONFIRMA TU DIRECCIÓN</ion-text>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n        <ion-col size=\\\"1\\\" offset=\\\"1\\\"></ion-col>\\n        <ion-col size=\\\"8\\\" class=\\\"ion-text-center\\\">\\n          <ion-text><hr></ion-text>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n      </ion-row> -->\\n\\n      <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"searchPro()\\\">\\n        <!-- detalles de la direccion -->\\n        <ion-row class=\\\"ion-no-padding ion-no-margion\\\">\\n          <ion-col size=\\\"10\\\" offset=\\\"1\\\">\\n            <ion-item>\\n              <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n                <ion-icon name=\\\"pricetag\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n                <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Dirección</ion-text>\\n              </ion-label>\\n              <ion-input \\n                type=\\\"text\\\"\\n                formControlName=\\\"address\\\"\\n                disabled\\n                ></ion-input>\\n            </ion-item>\\n          </ion-col>\\n        </ion-row>\\n\\n        <!-- find BTN -->\\n        <ion-row class=\\\"ion-margin-top\\\">\\n          <ion-col size=\\\"1\\\"></ion-col>\\n          <ion-col>\\n            <ion-button size=\\\"10\\\" expand=\\\"block\\\" class=\\\"ion-text-uppercase\\\" type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">\\n              CONTINUAR\\n            </ion-button>\\n          </ion-col>\\n          <ion-col size=\\\"1\\\"></ion-col>\\n        </ion-row>\\n    </form>\\n\\n    </ion-grid>\\n  </ion-toolbar>\\n</ion-footer>\\n\";","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, ElementRef, NgZone, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Capacitor, Plugins } from '@capacitor/core';\nimport { LoadingController, Platform } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { User } from 'src/app/model/user.model';\nimport { SolicitudService } from 'src/app/services/solicitud.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { API } from 'src/environments/environment';\n\nconst { Geolocation } = Plugins;\n// import {google} from 'google-maps';\ndeclare var google: any;\n\n@Component({\n  selector: 'app-mapa',\n  templateUrl: './mapa.page.html',\n  styleUrls: ['./mapa.page.scss'],\n})\nexport class MapaPage implements OnInit, OnDestroy {\n  @ViewChild('map', {read: ElementRef, static: false}) mapRef: ElementRef;\n  map: any;\n  // lat: string;\n  // long: string;  \n  autocomplete: { input: string; };\n  autocompleteItems: any[];\n  placeid: any;\n  GoogleAutocomplete: any;\n  comunas = [];\n  headers: HttpHeaders;\n  grabbedUser: User;\n  userSub: Subscription;\n  marker: any;\n  form: FormGroup;\n\n  constructor(\n    // private geolocation: Geolocation,\n    // private nativeGeocoder: NativeGeocoder,\n    private lc: LoadingController,\n    private router: Router,\n    public zone: NgZone,\n    private http: HttpClient,\n    private us: UserService,\n    private solServ: SolicitudService,\n    private platform: Platform,\n  ) { \n    this.GoogleAutocomplete = new google.maps.places.AutocompleteService();\n    this.autocomplete = { input: '' };\n    this.autocompleteItems = [];\n   }\n\n  ngOnInit() {\n    this.userSub = this.us.loggedUser.subscribe(user => {\n      this.grabbedUser = user;\n    });\n    this.headers = new HttpHeaders().set('Authorization', 'Bearer '+this.grabbedUser.access_token);\n    //comunas\n    this.http.get(API+'/location/communes', {headers: this.headers})\n    .subscribe(resData =>{\n      // console.log('comunas');\n      this.comunas = resData['data'];\n      // console.log(this.comunas);\n    });\n    // form\n    this.form = new FormGroup({\n      address: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n    });\n  }\n\n  ionViewDidEnter(){\n    this.loadMap();\n  }\n\n  loadMap(){\n    this.lc.create({\n      message: 'Generando mapa...'\n    }).then(async loadingEl =>{\n      loadingEl.present();\n      let latLng;\n      if ((this.platform.is('mobile') && !this.platform.is('hybrid')) || this.platform.is('desktop')) {\n        Geolocation.getCurrentPosition().then(resData =>{\n          console.log(resData);\n          loadingEl.dismiss();\n          latLng = new google.maps.LatLng(resData.coords.latitude, resData.coords.longitude);\n        }, err =>{\n          console.log(err);\n          loadingEl.dismiss();\n          latLng = new google.maps.LatLng(-33.5615548, -71.6251603);\n        });\n      }else{\n        // get location from device\n        const coords = await Geolocation.getCurrentPosition();\n        console.log(coords);\n        latLng = new google.maps.LatLng(coords.coords.latitude, coords.coords.longitude);\n      }\n\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        zoomControl: false,\n        streetViewControl: false,\n        mapTypeControl: false,\n        fullscreenControl: false,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n      //load map\n      // this.getAddressFromCords(res.coords.latitude, res.coords.longitude);\n      this.map = new google.maps.Map(this.mapRef.nativeElement, mapOptions);\n      this.map.addListener('tilesloaded', () =>{\n        // console.log('accuracy', this.map, this.map.center.lat());\n        // this.getAddressFromCords(this.map.center.lat(), this.map.center.lng());\n        // this.lat = this.map.center.lat();\n        // this.long = this.map.center.lng();\n      });\n      //marker\n      this.marker = new google.maps.Marker({\n        position: latLng,\n        draggable: true,\n        map: this.map\n      });\n      this.marker.setMap(this.map);\n      //click\n      this.map.addListener('click', e => {\n        this.addMarker(e.latLng, this.map);\n      });\n      loadingEl.dismiss();\n    });\n  }\n\n  addMarker(location, map) {\n    // Add the marker at the clicked location,\n    if (this.marker) {\n      this.marker.setMap(null);\n    }\n    this.marker = new google.maps.Marker({\n      position: location,\n      draggable: true,\n      map: map,\n    });\n    this.marker.setMap(this.map);\n  }\n\n  getAddressFromCords(latitude, longitude) {}\n\n  updateSearchResults(){\n    if (this.autocomplete.input == '') {\n      this.autocompleteItems = [];\n      return;\n    }\n    this.GoogleAutocomplete.getPlacePredictions({ \n      input: this.autocomplete.input,\n      types: ['address'],\n      componentRestrictions: {country: 'cl'}\n    },\n    (predictions, status) => {\n      this.autocompleteItems = [];\n      this.zone.run(() => {\n        predictions.forEach((prediction) => {\n          this.autocompleteItems.push(prediction);\n        });\n      });\n    });\n  }\n\n  selectSearchResult(item) {\n    ///this is the place for storing data to service\n    // alert(JSON.stringify(item))      \n    this.placeid = item.place_id\n    \n    let wAddress = item.description.split(',');\n    // console.log(wAddress[1].substring(1));\n    // console.log(item);\n    // pass address to input\n    this.form = new FormGroup({\n      address: new FormControl(item.description, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n    });\n    //save to solicitud service\n    this.solServ.setAddress(item.description);\n    //save comuna id to solicitud service\n    this.comunas.forEach(comuna => {\n      if (comuna.name === wAddress[1].substring(1).toLowerCase()) {\n        this.solServ.setComuna(comuna.id);\n      }else{\n        // console.log('no match');\n      }\n    });\n    this.clearAutocomplete();\n    \n    // const geocoder = new google.maps.Geocoder();\n    // geocoder.geocode({placeId: item.place_id}, (res, status) =>{\n    //   console.log(res);\n    //   console.log(status);\n    // });\n    \n  }\n\n  clearAutocomplete(){\n    this.autocompleteItems = [];\n    this.autocomplete.input = '';\n  }\n\n  searchPro(){\n    this.router.navigate(['/user/profesional-list']);\n  }\n\n  ngOnDestroy(){\n    this.userSub.unsubscribe();\n  }\n}\n","export default \"#map {\\n  height: 100%;\\n}\\n\\n.title {\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\nhr {\\n  border-top: 1px solid #E54360;\\n}\\n\\n.top-center {\\n  position: absolute;\\n  width: 100%;\\n  top: 60px;\\n}\\n\\n.floating-input {\\n  background-color: white;\\n  border: 1px solid #009ACE;\\n}\\n\\n.locate-cont {\\n  border-radius: 50px;\\n  height: 42px;\\n  width: 42px;\\n  background-color: white;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  position: absolute;\\n  right: 11%;\\n  top: 30%;\\n}\\n\\n.scan-cont {\\n  border-radius: 50px;\\n  height: 42px;\\n  width: 42px;\\n  background-color: white;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  position: absolute;\\n  right: 11%;\\n  top: 42%;\\n}\\n\\n.rating-text {\\n  font-size: 18px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21hcGEucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQUNKOztBQUNFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0FBRUo7O0FBQUU7RUFDRSw2QkFBQTtBQUdKOztBQURFO0VBQ0Usa0JBQUE7RUFDQSxXQUFBO0VBQ0EsU0FBQTtBQUlKOztBQUZFO0VBQ0UsdUJBQUE7RUFDQSx5QkFBQTtBQUtKOztBQUhFO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtBQU1KOztBQUpFO0VBQ0UsbUJBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtFQUNBLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxpQkFBQTtFQUNBLGtCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsUUFBQTtBQU9KOztBQUxFO0VBQ0UsZUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFRSiIsImZpbGUiOiJtYXBhLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiNtYXB7XG4gICAgaGVpZ2h0OiAxMDAlO1xuICB9XG4gIC50aXRsZXtcbiAgICBmb250LXNpemU6IDE4cHg7XG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gIH1cbiAgaHIge1xuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjRTU0MzYwO1xuICB9XG4gIC50b3AtY2VudGVye1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMTAwJTtcbiAgICB0b3A6IDYwcHg7XG4gIH1cbiAgLmZsb2F0aW5nLWlucHV0e1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDlBQ0U7XG4gIH1cbiAgLmxvY2F0ZS1jb250e1xuICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gICAgaGVpZ2h0OiA0MnB4O1xuICAgIHdpZHRoOiA0MnB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6IHdoaXRlO1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgbWFyZ2luLWxlZnQ6IGF1dG87XG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMTElO1xuICAgIHRvcDogMzAlO1xuICB9XG4gIC5zY2FuLWNvbnR7XG4gICAgYm9yZGVyLXJhZGl1czogNTBweDtcbiAgICBoZWlnaHQ6IDQycHg7XG4gICAgd2lkdGg6IDQycHg7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogd2hpdGU7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHJpZ2h0OiAxMSU7XG4gICAgdG9wOiA0MiU7XG4gIH1cbiAgLnJhdGluZy10ZXh0e1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gIH1cbiAgIl19 */\";"]}