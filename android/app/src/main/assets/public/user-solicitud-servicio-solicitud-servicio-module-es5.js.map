{"version":3,"sources":["webpack:///src/app/user/solicitud-servicio/solicitud-servicio-routing.module.ts","webpack:///src/app/user/solicitud-servicio/solicitud-servicio.page.html","webpack:///src/app/user/solicitud-servicio/solicitud-servicio.page.ts","webpack:///src/app/user/solicitud-servicio/solicitud-servicio.module.ts","webpack:///src/app/user/solicitud-servicio/solicitud-servicio.page.scss"],"names":["routes","path","component","SolicitudServicioPageRoutingModule","imports","forChild","exports","base64toBlob","base64Data","contentType","sliceSize","byteCharacters","atob","bytesLength","length","slicesCount","Math","ceil","byteArrays","Array","sliceIndex","begin","end","min","bytes","offset","i","charCodeAt","Uint8Array","Blob","type","SolicitudServicioPage","modalController","router","menuController","solServ","http","us","lc","platform","minDate","add","selectedProfesional","supplierName","supplierLastName","categoryName","communeName","useInputPicker","loadedImages","loadedImagesDisplay","showError","userSub","loggedUser","subscribe","user","grabbedUser","solicitud","proPerfil","selectedProfPhoto","proPhoto","headers","set","access_token","is","form","description","updateOn","validators","required","date_required","sHour","eHour","adress","address","enable","open","isPluginAvailable","hiddenImgInputRef","nativeElement","click","Camera","getPhoto","quality","source","Prompt","correctOrientation","height","resultType","DataUrl","promptLabelPhoto","promptLabelPicture","promptLabelCancel","then","image","saveImgToApi","dataUrl","e","console","log","loadedFile","target","files","fr","FileReader","onload","push","result","toString","readAsDataURL","imageData","imgFile","replace","wDate","value","split","formData","FormData","forEach","append","comuna_id","instructions","proPerfil_id","startHour","endHour","isAfter","create","message","loadingEl","present","post","resData","dismiss","cssClass","modalEl","err","unsubscribe","selector","template","SolicitudServicioPageModule","declarations"],"mappings":"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","file":"user-solicitud-servicio-solicitud-servicio-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SolicitudServicioPage } from './solicitud-servicio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SolicitudServicioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SolicitudServicioPageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/user/profesional-detail\\\" text=\\\"\\\" icon=\\\"arrow-back\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title class=\\\"title-toolbar\\\">SOLICITUD DE SERVICIO</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <!-- profesional card item -->\\n  <div class=\\\"no-border\\\">\\n    <ion-grid>\\n      <ion-row class=\\\"ion-align-items-center\\\">\\n        <!-- profile img -->\\n        <ion-col size=\\\"4\\\" offset=\\\"1\\\">\\n          <ion-avatar class=\\\"profileImg\\\">\\n            <ion-img src=\\\"{{ !selectedProfPhoto ? 'assets/images/avatar.png' : selectedProfPhoto }}\\\"></ion-img>\\n          </ion-avatar>\\n        </ion-col>\\n\\n        <!-- title -->\\n        <ion-col size=\\\"7\\\">\\n          <ion-text>\\n            <span class=\\\"titleSelect main-color ion-text-capitalize\\\">\\n              {{ selectedProfesional.supplierName }} {{ selectedProfesional.supplierLastName }}\\n            </span><br>\\n            <ion-badge color=\\\"primary\\\" class=\\\"badge-text ion-text-capitalize\\\">{{ selectedProfesional.categoryName }}\\n            </ion-badge><br>\\n            <p class=\\\"textSelect main-color badge-text ion-text-capitalize\\\" style=\\\"margin-top: 0; margin-bottom: 0;\\\">{{\\n              selectedProfesional.communeName }}</p>\\n          </ion-text>\\n        </ion-col>\\n\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n\\n  <ion-grid>\\n\\n    <!-- title -->\\n    <ion-row>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n      <ion-col size=\\\"10\\\" class=\\\"ion-text-center\\\">\\n        <ion-text class=\\\"main-color title\\\"><b>Cuéntale al profesional qué necesitas</b></ion-text>\\n      </ion-col>\\n      <ion-col size=\\\"1\\\"></ion-col>\\n    </ion-row>\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"confirmRequest()\\\">\\n      <!-- text-area -->\\n      <ion-row class=\\\"ion-margin-top\\\">\\n        <ion-col size=\\\"1\\\"></ion-col>\\n        <ion-col size=\\\"10\\\" class=\\\"border ion-text-center\\\">\\n          <ion-item lines=\\\"none\\\">\\n            <ion-textarea class=\\\"textarea\\\" rows=\\\"3\\\" cols=\\\"20\\\" formControlName=\\\"description\\\"\\n              placeholder=\\\"Describe lo más posible y claro el trabajo, así podremos dar respuesta más rápido.\\\">\\n            </ion-textarea>\\n          </ion-item>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n      </ion-row>\\n\\n      <!-- text -->\\n      <ion-row class=\\\"ion-margin-top\\\">\\n        <ion-col size=\\\"1\\\"></ion-col>\\n        <ion-col size=\\\"10\\\" class=\\\"ion-text-center\\\">\\n          <ion-text class=\\\"main-color regText\\\"><b>Agrega imágenes que ayudarán al profesional a responder mejor a tu\\n              solicitud.</b></ion-text>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n      </ion-row>\\n\\n      <!-- images -->\\n      <ion-row class=\\\"ion-align-items-center\\\">\\n        <ion-col size=\\\"7\\\" offset=\\\"1\\\">\\n          <ion-slides>\\n\\n            <!-- slide -->\\n            <ion-slide *ngFor=\\\"let image of loadedImagesDisplay\\\" [loadedImagesDisplay]='loadedImagesDisplay'>\\n              <ion-img src=\\\"{{ image }}\\\" class=\\\"imgSlide\\\">\\n              </ion-img>\\n            </ion-slide>\\n\\n          </ion-slides>\\n        </ion-col>\\n        <ion-col size=\\\"4\\\">\\n          <ion-button (click)=\\\"onLoadImg()\\\" shape=\\\"round\\\">\\n            <ion-icon name=\\\"add\\\" slot=\\\"end\\\" color=\\\"light\\\" class=\\\"rating-text\\\"></ion-icon>\\n          </ion-button>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- hidden file input -->\\n      <div style=\\\"display: none;\\\">\\n        <input type=\\\"file\\\" #hiddenImgInput *ngIf=\\\"useInputPicker\\\" (change)=\\\"onLoadImgFromInput($event)\\\">\\n      </div>\\n\\n      <!-- Fecha requerida -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label class=\\\"main-color\\\" position=\\\"floating\\\">\\n              <ion-icon src=\\\"/assets/icon/ic_date_range.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Fecha requerida</ion-text>\\n            </ion-label>\\n            <ion-datetime formControlName=\\\"date_required\\\" placeholder=\\\"Definir fecha\\\"\\n              [min]=\\\"minDate.format('YYYY-MM-DD')\\\" (ngModelChange)=\\\"onDateChange($event)\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- Rango de horas -->\\n\\n      <!-- pickers -->\\n      <ion-row>\\n        <ion-col size=\\\"6\\\">\\n          <ion-item>\\n            <ion-label class=\\\"main-color\\\" position=\\\"floating\\\">\\n              <ion-icon src=\\\"/assets/icon/ic_schedule.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Hora inicial</ion-text>\\n            </ion-label>\\n            <ion-datetime formControlName=\\\"sHour\\\" display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\"\\n              [min]=\\\"minDate.format('YYYY-MM-DD')\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n\\n        <ion-col size=\\\"5\\\">\\n          <ion-item>\\n            <ion-label class=\\\"main-color\\\" position=\\\"floating\\\">\\n              <ion-icon src=\\\"/assets/icon/ic_schedule.svg\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Hora final</ion-text>\\n            </ion-label>\\n            <ion-datetime formControlName=\\\"eHour\\\" display-format=\\\"h:mm A\\\" picker-format=\\\"h:mm A\\\"\\n              [min]=\\\"minDate.format('YYYY-MM-DD')\\\">\\n            </ion-datetime>\\n          </ion-item>\\n        </ion-col>\\n\\n        <!-- error  -->\\n        <ion-col size=\\\"12\\\" *ngIf=\\\"showError\\\" >\\n          <ion-label class=\\\"errorMess\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\" class=\\\"iconFixG\\\" color=\\\"danger\\\"></ion-icon>\\n            <ion-text class=\\\"text-center\\\" color=\\\"danger\\\">\\n              <small> La hora de inicio debe ser menor que la hora de fin</small>\\n            </ion-text>\\n          </ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- enviar solicitud BTN -->\\n      <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\n        <ion-col size=\\\"1\\\"></ion-col>\\n        <ion-col>\\n          <ion-button size=\\\"5\\\" expand=\\\"block\\\" class=\\\"ion-text-uppercase\\\" type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">\\n            CONFIRMAR SOLICITUD\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n      </ion-row>\\n    </form>\\n\\n  </ion-grid>\\n\\n</ion-content>\";","import { Component, ElementRef, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { LoadingController, MenuController, ModalController, Platform } from \"@ionic/angular\";\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { CameraResultType, CameraSource, Capacitor, Plugins } from '@capacitor/core';\n\nimport { ConfirmSuccessModalComponent } from './confirm-success-modal/confirm-success-modal.component';\nimport { ProfCategory } from 'src/app/model/profCategory.model';\nimport { User } from 'src/app/model/user.model';\nimport { SolicitudService } from 'src/app/services/solicitud.service';\nimport { UserService } from 'src/app/services/user.service';\nimport { API } from 'src/environments/environment';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ImgListService } from 'src/app/services/img-list.service';\nimport * as moment from 'moment';\nimport { Moment } from 'moment';\n\nfunction base64toBlob(base64Data, contentType) {\n  contentType = contentType || '';\n  const sliceSize = 1024;\n  const byteCharacters = atob(base64Data);\n  const bytesLength = byteCharacters.length;\n  const slicesCount = Math.ceil(bytesLength / sliceSize);\n  const byteArrays = new Array(slicesCount);\n\n  for (var sliceIndex = 0; sliceIndex < slicesCount; ++sliceIndex) {\n    const begin = sliceIndex * sliceSize;\n    const end = Math.min(begin + sliceSize, bytesLength);\n\n    const bytes = new Array(end - begin);\n    for (let offset = begin, i = 0; offset < end; ++i, ++offset) {\n      bytes[i] = byteCharacters[offset].charCodeAt(0);\n    }\n    byteArrays[sliceIndex] = new Uint8Array(bytes);\n  }\n  return new Blob(byteArrays, { type: contentType });\n}\n\n@Component({\n  selector: 'app-solicitud-servicio',\n  templateUrl: './solicitud-servicio.page.html',\n  styleUrls: ['./solicitud-servicio.page.scss'],\n})\nexport class SolicitudServicioPage implements OnInit, OnDestroy {\n  // selectedProfesional: ProfCategory = new ProfCategory(\n  //   null, null, null, null, null, null, null, null, null, null, null, null, null\n  // );\n  minDate = moment().add('hour', 1);\n  selectedProfesional = {\n    supplierName: null,\n    supplierLastName: null,\n    categoryName: null,\n    communeName: null,\n  }\n  grabbedUser: User;\n  userSub: Subscription;\n  headers: HttpHeaders;\n  useInputPicker = false;\n  @ViewChild('hiddenImgInput') hiddenImgInputRef: ElementRef<HTMLInputElement>;\n  form: FormGroup;\n  selectedProfPhoto: string;\n  loadedImages = [];\n  loadedImagesDisplay = [];\n  showError = false;\n\n\n  // slideOptions = {\n  //   initialSlide: 0,\n  //   slidesPerView: 2,\n  //   autoplay: true\n  // };\n\n  constructor(\n    private modalController: ModalController,\n    private router: Router,\n    private menuController: MenuController,\n    private solServ: SolicitudService,\n    private http: HttpClient,\n    private us: UserService,\n    private lc: LoadingController,\n    private platform: Platform,\n  ) { }\n\n  ngOnInit() {\n    this.userSub = this.us.loggedUser.subscribe(user => {\n      this.grabbedUser = user;\n    });\n    // this.selectedProfesional = this.solServ.solicitud.proPerfil;\n    this.selectedProfesional.supplierName = this.solServ.solicitud.proPerfil.supplierName;\n    this.selectedProfesional.supplierLastName = this.solServ.solicitud.proPerfil.supplierLastName;\n    this.selectedProfesional.categoryName = this.solServ.solicitud.proPerfil.categoryName;\n    this.selectedProfesional.communeName = this.solServ.solicitud.proPerfil.communeName;\n\n    this.selectedProfPhoto = this.solServ.solicitud.proPhoto;\n    this.headers = new HttpHeaders().set('Authorization', 'Bearer ' + this.grabbedUser.access_token);\n    // platfrom Checker\n    if ((this.platform.is('mobile') && !this.platform.is('hybrid')) || this.platform.is('desktop')) {\n      this.useInputPicker = true;\n    }\n\n    //form\n    this.form = new FormGroup({\n      description: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      date_required: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      sHour: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      eHour: new FormControl(null, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      adress: new FormControl(this.solServ.solicitud.address, {\n        updateOn: 'blur',\n      }),\n    });\n  }\n\n  ionViewWillEnter() {\n    this.menuController.enable(true, 'user');\n  }\n\n  openMenu() {\n    this.menuController.open();\n  }\n\n  onLoadImg() {\n    if (!Capacitor.isPluginAvailable('Camera') || this.useInputPicker) {\n      this.hiddenImgInputRef.nativeElement.click();\n      return;\n    }\n    Plugins.Camera.getPhoto({\n      quality: 25,\n      source: CameraSource.Prompt,\n      correctOrientation: true,\n      height: 150,\n      // width: 200,\n      resultType: CameraResultType.DataUrl,\n      promptLabelPhoto: 'Fotos',\n      promptLabelPicture: 'Camara',\n      promptLabelCancel: 'Cancelar'\n    }).then(image => {\n      this.saveImgToApi(image.dataUrl);\n    }).catch(e => {\n      console.log(e);\n    });\n  }\n\n  onLoadImgFromInput(e: Event) {\n    const loadedFile = (e.target as HTMLInputElement).files[0];\n    this.saveImgToApi(loadedFile);\n    //converting images to blob for diplaying\n    const fr = new FileReader();\n    fr.onload = () => {\n      this.loadedImagesDisplay.push(fr.result.toString());\n    };\n    fr.readAsDataURL((e.target as HTMLInputElement).files[0]);\n  }\n\n  saveImgToApi(imageData: string | File) {\n    let imgFile;\n    if (typeof imageData === 'string') {\n      try {\n        imgFile = base64toBlob(imageData.replace('data:image/jpeg;base64,', ''), 'image/jpeg');\n      } catch (e) {\n        console.log(e);\n        return;\n      }\n    } else {\n      imgFile = imageData;\n    }\n    this.loadedImages.push(imgFile);\n  }\n\n  confirmRequest() {\n    //format date\n    let wDate = this.form.value.date_required.split('T');\n    wDate = wDate[0];\n    wDate = wDate.split('-');\n    wDate = wDate[2] + '/' + wDate[1] + '/' + wDate[0];\n    const formData = new FormData();\n    this.loadedImages.forEach(image => {\n      formData.append('images[]', image);\n    });\n    formData.append('cummune_id', this.solServ.solicitud.comuna_id);\n    formData.append('description', this.form.value.description);\n    formData.append('adress', this.form.value.adress);\n    formData.append('adress_detail', this.form.value.adress);\n    formData.append('extra_instructions', this.solServ.solicitud.instructions);\n    formData.append('date_required', wDate);\n    formData.append('hours', this.form.value.sHour + \"/\" + this.form.value.eHour);\n    formData.append('professional_profile_id', this.solServ.solicitud.proPerfil_id);\n\n    let startHour = moment(this.form.value.sHour);\n    let endHour = moment(this.form.value.eHour);\n    if (startHour.isAfter(endHour)) {\n      this.showError = true;\n      return\n    }\n    this.showError = false;\n\n    this.lc.create({\n      message: 'Creando su solicitud...'\n    }).then(loadingEl => {\n      loadingEl.present();\n      this.http.post(API + '/client/requestservice', formData, { headers: this.headers })\n        .subscribe(resData => {\n          loadingEl.dismiss();\n          this.modalController.create({\n            component: ConfirmSuccessModalComponent,\n            cssClass: 'modalSuccess',\n          }).then(modalEl => {\n            modalEl.present();\n          });\n        }, err => {\n          loadingEl.dismiss();\n          console.log(err);\n        });\n    });\n  }\n\n  ngOnDestroy() {\n    this.userSub.unsubscribe();\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SolicitudServicioPageRoutingModule } from './solicitud-servicio-routing.module';\n\nimport { SolicitudServicioPage } from './solicitud-servicio.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    SolicitudServicioPageRoutingModule\n  ],\n  declarations: [SolicitudServicioPage]\n})\nexport class SolicitudServicioPageModule {}\n","export default \".no-border {\\n  padding-top: 2px;\\n  padding-bottom: 2px;\\n}\\n\\n.profileImg {\\n  margin-left: 10px;\\n  height: 75px;\\n  width: 75px;\\n}\\n\\n.titleSelect {\\n  font-size: 23px;\\n  font-weight: bold;\\n}\\n\\n.tittle {\\n  font-size: 18px;\\n}\\n\\n.border {\\n  border: 1px solid #009ACE;\\n}\\n\\n.regText {\\n  font-size: 14px;\\n}\\n\\n.imgSingle {\\n  height: 125px;\\n}\\n\\n.locate-cont {\\n  border-radius: 50px;\\n  height: 50px;\\n  width: 50px;\\n  display: inline-flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  background-color: #009ACE;\\n}\\n\\n.rating-text {\\n  font-size: 26px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.textarea::-moz-placeholder {\\n  color: #009ACE;\\n}\\n\\n.textarea::placeholder {\\n  color: #009ACE;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NvbGljaXR1ZC1zZXJ2aWNpby5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDRSxnQkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBQ0E7RUFDRSxpQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FBRUY7O0FBQUE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7QUFHRjs7QUFEQTtFQUNFLGVBQUE7QUFJRjs7QUFGQTtFQUNFLHlCQUFBO0FBS0Y7O0FBSEE7RUFDRSxlQUFBO0FBTUY7O0FBSkE7RUFDRSxhQUFBO0FBT0Y7O0FBTEE7RUFDRSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0FBUUY7O0FBTkE7RUFDRSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQVNGOztBQVBBO0VBQ0UsY0FBQTtBQVVGOztBQVhBO0VBQ0UsY0FBQTtBQVVGIiwiZmlsZSI6InNvbGljaXR1ZC1zZXJ2aWNpby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIubm8tYm9yZGVye1xuICBwYWRkaW5nLXRvcDogMnB4O1xuICBwYWRkaW5nLWJvdHRvbTogMnB4O1xufVxuLnByb2ZpbGVJbWd7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBoZWlnaHQ6IDc1cHg7XG4gIHdpZHRoOiA3NXB4O1xufVxuLnRpdGxlU2VsZWN0e1xuICBmb250LXNpemU6IDIzcHg7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuLnRpdHRsZXtcbiAgZm9udC1zaXplOiAxOHB4O1xufVxuLmJvcmRlcntcbiAgYm9yZGVyOiAxcHggc29saWQgIzAwOUFDRTtcbn1cbi5yZWdUZXh0e1xuICBmb250LXNpemU6IDE0cHg7XG59XG4uaW1nU2luZ2xle1xuICBoZWlnaHQ6IDEyNXB4O1xufVxuLmxvY2F0ZS1jb250e1xuICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICBoZWlnaHQ6IDUwcHg7XG4gIHdpZHRoOiA1MHB4O1xuICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tbGVmdDogYXV0bztcbiAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA5QUNFO1xufVxuLnJhdGluZy10ZXh0e1xuICBmb250LXNpemU6IDI2cHg7XG4gIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICBtYXJnaW4tcmlnaHQ6IGF1dG87XG59XG4udGV4dGFyZWE6OnBsYWNlaG9sZGVyIHtcbiAgY29sb3I6ICMwMDlBQ0U7XG59Il19 */\";"]}