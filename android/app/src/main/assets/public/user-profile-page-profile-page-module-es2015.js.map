{"version":3,"sources":["./src/app/user/profile-page/profile-page-routing.module.ts","./src/app/user/profile-page/profile-page.page.html","./src/app/user/profile-page/profile-page.page.scss","./src/app/user/profile-page/profile-page.page.ts","./src/app/user/profile-page/profile-page.module.ts"],"names":[],"mappings":"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","file":"user-profile-page-profile-page-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ProfilePagePage } from './profile-page.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfilePagePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfilePagePageRoutingModule {}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"primary\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/user/home\\\" text=\\\"\\\" icon=\\\"arrow-back\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title class=\\\"title-toolbar\\\">EDITAR USUARIO</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-grid>\\n\\n    <!-- profile Img -->\\n    <ion-row class=\\\"imgCont\\\">\\n      <ion-col>\\n        <ion-avatar class=\\\"ion-margin-start profileImg\\\">\\n          <ion-img src=\\\"{{ grabbedUser.img_profile }}\\\"></ion-img>\\n        </ion-avatar>\\n      </ion-col>\\n    </ion-row>\\n    <!-- edit icon -->\\n    <ion-row>\\n      <ion-col>\\n        <div class=\\\"rate-cont\\\" (click)=\\\"imgProfile()\\\">\\n          <ion-icon name=\\\"pencil\\\" class=\\\"profileIcon\\\"></ion-icon>\\n        </div>\\n      </ion-col>\\n    </ion-row>\\n\\n    <!-- Register Inputs -->\\n    <form [formGroup]=\\\"form\\\" (ngSubmit)=\\\"onUpdateUser()\\\">\\n      <!-- nombre -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"person\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Nombre</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"name\\\"></ion-input>\\n          </ion-item>\\n          <!-- error  -->\\n          <ion-label *ngIf=\\\"form.get('name').hasError('required')\\\" class=\\\"errorMess\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\" class=\\\"iconFixG\\\" color=\\\"danger\\\"></ion-icon>\\n            <ion-text color=\\\"danger\\\">\\n              <small> El nombre es requerido</small>\\n            </ion-text>\\n          </ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- email -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\">\\n              <ion-icon name=\\\"mail\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Email</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"text\\\" formControlName=\\\"email\\\"></ion-input>\\n          </ion-item>\\n          <!-- error requerido  -->\\n          <ion-label *ngIf=\\\"form.get('email').hasError('required')\\\" class=\\\"errorMess\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\" class=\\\"iconFixG\\\" color=\\\"danger\\\"></ion-icon>\\n            <ion-text color=\\\"danger\\\">\\n              <small> El email es requerido</small>\\n            </ion-text>\\n          </ion-label>\\n          <!-- error email  -->\\n          <ion-label *ngIf=\\\"form.get('email').hasError('email')\\\" class=\\\"errorMess\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\" class=\\\"iconFixG\\\" color=\\\"danger\\\"></ion-icon>\\n            <ion-text color=\\\"danger\\\">\\n              <small> El email no tiene el formato correcto</small>\\n            </ion-text>\\n          </ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- Número de contacto 1 -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"call\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Número de contacto 1</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"string\\\" formControlName=\\\"phone1\\\"></ion-input>\\n          </ion-item>\\n          <!-- error requerido  -->\\n          <ion-label *ngIf=\\\"form.get('phone1').hasError('required')\\\" class=\\\"errorMess\\\">\\n            <ion-icon name=\\\"alert-circle-outline\\\" class=\\\"iconFixG\\\" color=\\\"danger\\\"></ion-icon>\\n            <ion-text color=\\\"danger\\\">\\n              <small> El Numero de contacto es requerido</small>\\n            </ion-text>\\n          </ion-label>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- Número de contacto 2 -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"call\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Número de contacto 2</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"string\\\" formControlName=\\\"phone2\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n\\n      <!-- title -->\\n      <div style=\\\"height: 30px;\\\"></div>\\n      <ion-row class=\\\"ion-margin-top\\\">\\n        <ion-col size=\\\"1\\\" offset=\\\"1\\\"></ion-col>\\n        <ion-col size=\\\"8\\\" class=\\\"ion-text-center\\\">\\n          <ion-text class=\\\"main-color ion-text-uppercase title\\\"><b>CAMBIAR CONTRASEÑA</b></ion-text>\\n        </ion-col>\\n        <ion-col size=\\\"1\\\"></ion-col>\\n      </ion-row>\\n\\n      <!-- Contraseña actual -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"lock-closed\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Contraseña actual</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"password\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- Nueva contraseña -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"lock-closed\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Nueva contraseña</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"newPassword\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- Repetir nueva contraseña -->\\n      <ion-row>\\n        <ion-col size=\\\"11\\\">\\n          <ion-item>\\n            <ion-label position=\\\"floating\\\" class=\\\"main-color\\\">\\n              <ion-icon name=\\\"lock-closed\\\" slot=\\\"start\\\" class=\\\"main-color\\\"></ion-icon>\\n              <ion-text class=\\\"main-color\\\">&nbsp;&nbsp;&nbsp;Repetir nueva contraseña</ion-text>\\n            </ion-label>\\n            <ion-input type=\\\"password\\\" formControlName=\\\"confirmPassword\\\"></ion-input>\\n          </ion-item>\\n        </ion-col>\\n      </ion-row>\\n\\n      <!-- BTN -->\\n      <ion-row class=\\\"ion-margin-top ion-margin-bottom\\\">\\n        <ion-col offset=\\\"1\\\">\\n          <ion-button size=\\\"5\\\" expand=\\\"block\\\" class=\\\"ion-text-uppercase\\\" type=\\\"submit\\\" [disabled]=\\\"!form.valid\\\">\\n            GUARDAR CAMBIOS\\n          </ion-button>\\n        </ion-col>\\n        <ion-col size=\\\"2\\\"></ion-col>\\n      </ion-row>\\n    </form>\\n\\n\\n  </ion-grid>\\n</ion-content>\\n\";","export default \".profileImg {\\n  height: 120px;\\n  width: 120px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.imgCont {\\n  margin-top: 35px;\\n}\\n\\n.profileIcon {\\n  font-size: 16px;\\n  color: white;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n\\n.rate-cont {\\n  border-radius: 50px;\\n  height: 30px;\\n  width: 30px;\\n  background-color: #53657e;\\n  display: flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  margin-top: -22px;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2ZpbGUtcGFnZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxhQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFDSjs7QUFDRTtFQUNFLGdCQUFBO0FBRUo7O0FBQUU7RUFDRSxlQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUFHSjs7QUFERTtFQUNFLG1CQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSx5QkFBQTtFQUNBLGFBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBSUoiLCJmaWxlIjoicHJvZmlsZS1wYWdlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5wcm9maWxlSW1ne1xuICAgIGhlaWdodDogMTIwcHg7XG4gICAgd2lkdGg6IDEyMHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgfVxuICAuaW1nQ29udHtcbiAgICBtYXJnaW4tdG9wOiAzNXB4O1xuICB9XG4gIC5wcm9maWxlSWNvbntcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6IHdoaXRlO1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbiAgfVxuICAucmF0ZS1jb250e1xuICAgIGJvcmRlci1yYWRpdXM6IDUwcHg7XG4gICAgaGVpZ2h0OiAzMHB4O1xuICAgIHdpZHRoOiAzMHB4O1xuICAgIGJhY2tncm91bmQtY29sb3I6ICM1MzY1N2U7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgbWFyZ2luLXRvcDogLTIycHg7XG4gIH1cbiAgIl19 */\";","import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { LoadingController, ModalController } from '@ionic/angular';\nimport { Subscription } from 'rxjs';\n\nimport { User } from 'src/app/model/user.model';\nimport { UserService } from 'src/app/services/user.service';\nimport { SuccessModalComponent } from './success-modal/success-modal.component';\n\n@Component({\n  selector: 'app-profile-page',\n  templateUrl: './profile-page.page.html',\n  styleUrls: ['./profile-page.page.scss'],\n})\nexport class ProfilePagePage implements OnInit, OnDestroy {\n  grabbedUser: User;\n  userSub: Subscription;\n  form: FormGroup;\n\n  constructor(\n    private us: UserService,\n    private lc: LoadingController,\n    private http: HttpClient,\n    private modalController: ModalController,\n  ) { }\n\n  ngOnInit() {\n    this.userSub = this.us.loggedUser.subscribe(user => {\n      this.grabbedUser = user;\n    });\n    // updates to the most current info from DB\n    this.us.dbUserGrab(this.grabbedUser.access_token, this.grabbedUser.role);\n    let phone1: string;\n    let phone2: string;\n    if (this.grabbedUser.phone1 === '-') {\n      phone1 = null;\n    } else {\n      phone1 = this.grabbedUser.phone1;\n    }\n    if (this.grabbedUser.phone2 === '-') {\n      phone2 = null;\n    } else {\n      phone2 = this.grabbedUser.phone2;\n    }\n    this.form = new FormGroup({\n      name: new FormControl(this.grabbedUser.name+' '+this.grabbedUser.last_name, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      email: new FormControl(this.grabbedUser.email, {\n        updateOn: 'blur',\n        validators: [Validators.required, Validators.email]\n      }),\n      phone1: new FormControl(phone1, {\n        updateOn: 'blur',\n        validators: [Validators.required]\n      }),\n      phone2: new FormControl(phone2, {\n        updateOn: 'blur',\n      }),\n      password: new FormControl(null, {\n        updateOn: 'blur',\n      }),\n      newPassword: new FormControl(null, {\n        updateOn: 'blur',\n      }),\n      confirmPassword: new FormControl(null, {\n        updateOn: 'blur',\n      }),\n    });\n    // console.log(this.grabbedUser, this.form);\n  }\n\n  onUpdateUser(){\n    // console.log(this.form);\n    let name = this.form.value.name.split(\" \");\n    let lname = name[1];\n    if (name.length > 2) {\n      lname += ' '+name[2];\n    }\n    // console.log(name[0], lname);\n    const modUser = {\n      name: name[0],\n      last_name: lname,\n      email: this.form.value.email,\n      password: this.form.value.newPassword,\n      current_password: this.form.value.password,\n      phone1: this.form.value.phone1,\n      phone2: this.form.value.phone2\n    }\n    if (this.form.value.password === null) {\n      delete modUser.password;\n      delete modUser.current_password;\n    }\n    // console.log(this.form, this.form.errors.name);\n    this.lc.create({\n      message: 'Alcualizando la informacion...'\n    }).then(loadingEl => {\n      loadingEl.present();\n      let headers = new HttpHeaders().set('Authorization', 'Bearer '+this.grabbedUser.access_token);\n      this.http.put('http://workintest.herokuapp.com/api/account', modUser, {headers: headers})\n      .subscribe(resData => {\n        loadingEl.dismiss();\n        // console.log(resData);\n        if (resData['code'] === 200) {\n          let img: string;\n          if (resData['data'].img_profile === null) {\n            img = 'assets/images/avatar.png';\n          }else{\n            img = resData['data'].user.img_profile;\n          }\n          //update user controler\n          this.us.setUser(new User(\n            this.grabbedUser.id,\n            resData['data'].name,\n            resData['data'].last_name,\n            img,\n            resData['data'].email,\n            resData['data'].phone1,\n            resData['data'].phone2,\n            this.grabbedUser.role,\n            this.grabbedUser.access_token,\n            ));\n          this.modalController.create({\n            component: SuccessModalComponent,\n            cssClass: 'modalSuccess',\n          }).then(modalEl => {\n            modalEl.present();\n          });\n        } else {\n          return false\n        }\n      });\n\n    });\n  }\n\n  imgProfile(){\n    // do something awseome\n  }\n\n  ngOnDestroy(){\n    this.userSub.unsubscribe();\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfilePagePageRoutingModule } from './profile-page-routing.module';\n\nimport { ProfilePagePage } from './profile-page.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    // FormsModule,\n    ReactiveFormsModule,\n    IonicModule,\n    ProfilePagePageRoutingModule\n  ],\n  declarations: [ProfilePagePage]\n})\nexport class ProfilePagePageModule {}\n"],"sourceRoot":"webpack:///"}