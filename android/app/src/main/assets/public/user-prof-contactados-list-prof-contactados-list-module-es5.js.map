{"version":3,"sources":["webpack:///src/app/user/prof-contactados-list/prof-contactados-list.page.scss","webpack:///src/app/user/prof-contactados-list/prof-contactados-list-routing.module.ts","webpack:///src/app/user/prof-contactados-list/prof-contactados-list.module.ts","webpack:///src/app/user/prof-contactados-list/prof-contactados-list.page.ts","webpack:///src/app/user/prof-contactados-list/prof-contactados-list.page.html"],"names":["routes","path","component","ProfContactadosListPageRoutingModule","imports","forChild","exports","ProfContactadosListPageModule","declarations","ProfContactadosListPage","router","menuController","http","us","lc","solServ","sortedServices","userSub","loggedUser","subscribe","user","grabbedUser","headers","set","access_token","enable","loadServices","create","message","then","loadingEl","present","get","resData","dismiss","loadedServices","prof","sort","sortByCreatedDate","forEach","i","go","p","supplier_id","push","err","console","log","passingDate","utc","startOf","fromNow","open","profId","setProfId","navigate","a","b","firstDate","created_date","tz","guess","secondDate","selector","template"],"mappings":"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","file":"user-prof-contactados-list-prof-contactados-list-module-es5.js","sourcesContent":["export default \".prof-cont {\\n  box-shadow: 0 3px 6px rgba(0, 0, 0, 0.16), 0 3px 6px rgba(0, 0, 0, 0.23);\\n}\\n\\n.titleSelect {\\n  font-size: 16px;\\n  font-weight: bold;\\n}\\n\\n.icon-size {\\n  margin-top: -3px;\\n  font-size: 20px;\\n}\\n\\n.textSelect {\\n  font-size: 12px;\\n  line-height: 1.4;\\n  margin-bottom: 2px;\\n}\\n\\n.ticket {\\n  color: red;\\n  font-size: 11px;\\n}\\n\\n.ratingText {\\n  font-size: 14px;\\n  margin: 0;\\n  padding: 0;\\n}\\n\\n.badge-text {\\n  font-size: 9px;\\n}\\n\\n.locate-cont {\\n  border-radius: 50px;\\n  height: 25px;\\n  width: 25px;\\n  display: inline-flex;\\n  align-items: center;\\n  text-align: center;\\n  margin-left: auto;\\n  margin-right: auto;\\n  background-color: #009ace;\\n}\\n\\n.rating-text {\\n  font-size: 14px;\\n  margin-left: auto;\\n  margin-right: auto;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3Byb2YtY29udGFjdGFkb3MtbGlzdC5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx3RUFBQTtBQUNKOztBQUNBO0VBQ0ksZUFBQTtFQUNBLGlCQUFBO0FBRUo7O0FBQUE7RUFDSSxnQkFBQTtFQUNBLGVBQUE7QUFHSjs7QUFEQTtFQUNJLGVBQUE7RUFDQSxnQkFBQTtFQUNBLGtCQUFBO0FBSUo7O0FBRkE7RUFDSSxVQUFBO0VBQ0EsZUFBQTtBQUtKOztBQUhBO0VBQ0ksZUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0FBTUo7O0FBSkE7RUFDSSxjQUFBO0FBT0o7O0FBTEE7RUFFSSxtQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxtQkFBQTtFQUNBLGtCQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtFQUNBLHlCQUFBO0FBT0o7O0FBTEE7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7RUFDQSxrQkFBQTtBQVFKIiwiZmlsZSI6InByb2YtY29udGFjdGFkb3MtbGlzdC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIucHJvZi1jb250IHtcbiAgICBib3gtc2hhZG93OiAwIDNweCA2cHggcmdiYSgwLCAwLCAwLCAwLjE2KSwgMCAzcHggNnB4IHJnYmEoMCwgMCwgMCwgMC4yMyk7XG59XG4udGl0bGVTZWxlY3Qge1xuICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbn1cbi5pY29uLXNpemUge1xuICAgIG1hcmdpbi10b3A6IC0zcHg7XG4gICAgZm9udC1zaXplOiAyMHB4O1xufVxuLnRleHRTZWxlY3Qge1xuICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgICBsaW5lLWhlaWdodDogMS40O1xuICAgIG1hcmdpbi1ib3R0b206IDJweDtcbn1cbi50aWNrZXQge1xuICAgIGNvbG9yOiByZWQ7XG4gICAgZm9udC1zaXplOiAxMXB4O1xufVxuLnJhdGluZ1RleHQge1xuICAgIGZvbnQtc2l6ZTogMTRweDtcbiAgICBtYXJnaW46IDA7XG4gICAgcGFkZGluZzogMDtcbn1cbi5iYWRnZS10ZXh0IHtcbiAgICBmb250LXNpemU6IDlweDtcbn1cbi5sb2NhdGUtY29udCB7XG4gICAgLy8gbWFyZ2luLXRvcDogMjBweDtcbiAgICBib3JkZXItcmFkaXVzOiA1MHB4O1xuICAgIGhlaWdodDogMjVweDtcbiAgICB3aWR0aDogMjVweDtcbiAgICBkaXNwbGF5OiBpbmxpbmUtZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICBtYXJnaW4tbGVmdDogYXV0bztcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzAwOWFjZTtcbn1cbi5yYXRpbmctdGV4dCB7XG4gICAgZm9udC1zaXplOiAxNHB4O1xuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xuICAgIG1hcmdpbi1yaWdodDogYXV0bztcbn1cbiJdfQ== */\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { AuthGuard } from 'src/app/guards/auth.guard';\nimport { ProGuard } from 'src/app/guards/pro.guard';\n\nimport { ProfContactadosListPage } from './prof-contactados-list.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ProfContactadosListPage\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProfContactadosListPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ProfContactadosListPageRoutingModule } from './prof-contactados-list-routing.module';\n\nimport { ProfContactadosListPage } from './prof-contactados-list.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ProfContactadosListPageRoutingModule\n  ],\n  declarations: [ProfContactadosListPage]\n})\nexport class ProfContactadosListPageModule {}\n","import { HttpClient, HttpHeaders } from \"@angular/common/http\";\nimport { Component, OnInit } from \"@angular/core\";\nimport { Router } from \"@angular/router\";\nimport { LoadingController, MenuController } from \"@ionic/angular\";\nimport moment from \"moment\";\nimport { Subscription } from \"rxjs\";\nimport { User } from \"src/app/model/user.model\";\nimport { SolicitudService } from \"src/app/services/solicitud.service\";\nimport { UserService } from \"src/app/services/user.service\";\nimport { API } from \"src/environments/environment\";\n\n@Component({\n\tselector: \"app-prof-contactados-list\",\n\ttemplateUrl: \"./prof-contactados-list.page.html\",\n\tstyleUrls: [\"./prof-contactados-list.page.scss\"],\n})\nexport class ProfContactadosListPage implements OnInit {\n\tgrabbedUser: User;\n\tuserSub: Subscription;\n\theaders: HttpHeaders;\n\tloadedServices;\n\tsortedServices = [];\n\n\tconstructor(\n\t\tprivate router: Router,\n\t\tprivate menuController: MenuController,\n\t\tprivate http: HttpClient,\n\t\tprivate us: UserService,\n\t\tprivate lc: LoadingController,\n\t\tprivate solServ: SolicitudService\n\t) {}\n\n\tngOnInit() {\n\t\tthis.userSub = this.us.loggedUser.subscribe((user) => {\n\t\t\tthis.grabbedUser = user;\n\t\t});\n\t}\n\n\tionViewWillEnter() {\n\t\tthis.headers = new HttpHeaders().set(\n\t\t\t\"Authorization\",\n\t\t\t\"Bearer \" + this.grabbedUser.access_token\n\t\t);\n\t\tthis.menuController.enable(true, \"user\");\n\t\tthis.sortedServices = [];\n\t\tthis.loadServices();\n\t}\n\n\tloadServices() {\n\t\tthis.lc\n\t\t\t.create({\n\t\t\t\tmessage: \"Cargando lista de servicios...\",\n\t\t\t})\n\t\t\t.then((loadingEl) => {\n\t\t\t\tloadingEl.present();\n\t\t\t\tthis.http\n\t\t\t\t\t.get(API + \"/client/requestservices\", { headers: this.headers })\n\t\t\t\t\t.subscribe(\n\t\t\t\t\t\t(resData) => {\n\t\t\t\t\t\t\tloadingEl.dismiss();\n\t\t\t\t\t\t\tthis.loadedServices = resData[\"data\"];\n\t\t\t\t\t\t\tlet prof = [];\n\t\t\t\t\t\t\tthis.loadedServices = this.loadedServices.sort(\n\t\t\t\t\t\t\t\tthis.sortByCreatedDate\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tthis.loadedServices.forEach((i) => {\n\t\t\t\t\t\t\t\tlet go = true;\n\t\t\t\t\t\t\t\tprof.forEach((p) => {\n\t\t\t\t\t\t\t\t\tif (p === i.supplier_id) {\n\t\t\t\t\t\t\t\t\t\tgo = false;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tif (go) {\n\t\t\t\t\t\t\t\t\tprof.push(i.supplier_id);\n\t\t\t\t\t\t\t\t\tthis.sortedServices.push(i);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\t(err) => {\n\t\t\t\t\t\t\tconsole.log(err);\n\t\t\t\t\t\t\tloadingEl.dismiss();\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\t\t\t});\n\t}\n\n\tp(passingDate: string) {\n\t\treturn moment.utc(passingDate, 'DD/MM/YYYY hh:mm:ss').startOf('minute').fromNow();\n\t}\n\n\topenMenu() {\n\t\tthis.menuController.open();\n\t}\n\n\tsolicitudes(profId: string) {\n\t\tthis.solServ.setProfId(profId);\n\t\tthis.router.navigate([\"/user/single-prof-services\"]);\n\t}\n\n\tsortByCreatedDate(a, b) {\n\t\tlet firstDate = moment\n\t\t\t.utc(a.created_date, \"DD/MM/YYYY HH:mm:ss\")\n\t\t\t.tz(moment.tz.guess());\n\t\tlet secondDate = moment\n\t\t\t.utc(b.created_date, \"DD/MM/YYYY HH:mm:ss\")\n\t\t\t.tz(moment.tz.guess());\n\t\tif (firstDate > secondDate) {\n\t\t\treturn -1;\n\t\t}\n\t\tif (firstDate < secondDate) {\n\t\t\treturn 1;\n\t\t}\n\t\treturn 0;\n\t}\n}\n","export default \"<ion-header>\\n  <ion-toolbar mode=\\\"ios\\\" color=\\\"primary\\\">\\n\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/user/home\\\" text=\\\"\\\" icon=\\\"arrow-back\\\"></ion-back-button>\\n    </ion-buttons>\\n\\n    <ion-title class=\\\"title-toolbar\\\">PROFS. CONTACTADOS</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n\\n  <ion-grid class=\\\"ion-margin-top\\\" *ngIf=\\\"!sortedServices || sortedServices.length < 1\\\">\\n    <ion-row class=\\\"subtitle ion-margin-top\\\">\\n      <ion-col size=\\\"12\\\" class=\\\"ion-text-center\\\">\\n        <ion-text class=\\\"footer-text main-color\\\"><b>Aún no tienes profesionales<br>contactados</b></ion-text>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <!-- proff contactado card item -->\\n  <div class=\\\"prof-cont ion-margin-top no-border\\\" *ngFor=\\\"let service of sortedServices\\\"\\n    (click)=\\\"solicitudes(service.supplier_id)\\\">\\n    <ion-grid *ngIf=\\\"service.supplierName\\\">\\n      <ion-row class=\\\"ion-align-items-center\\\">\\n\\n        <!-- title -->\\n        <ion-col size=\\\"10\\\" class=\\\"ion-justify-content-center\\\">\\n          <ion-text>\\n            <span class=\\\"titleSelect main-color ion-text-capitalize\\\">{{ service.supplierName+\\\"\\n              \\\"+service.supplierLastName }} </span><br>\\n            <ion-badge color=\\\"medium\\\" class=\\\"badge-text\\\" *ngFor=\\\"let cat of service.categories\\\">{{ cat.categoryName }}\\n            </ion-badge>\\n            <br>\\n            <p class=\\\"textSelect\\\">\\n              {{ service.descProf }}\\n            </p>\\n            <small class=\\\"main-color\\\">{{ p(service.created_date) }}</small>\\n          </ion-text>\\n        </ion-col>\\n\\n        <!-- rating -->\\n        <!-- <ion-col size=\\\"4\\\">\\n          <ion-text>\\n            <p class=\\\"ratingText main-color ion-text-center\\\">\\n              4.83\\n              <ion-icon name=\\\"star\\\"></ion-icon>\\n            </p><br> -->\\n        <!-- icons -->\\n        <!-- <div class=\\\"locate-cont\\\">\\n              <ion-icon name=\\\"hammer\\\" color=\\\"light\\\" class=\\\"rating-text\\\"></ion-icon>\\n            </div>\\n            <div class=\\\"locate-cont\\\">\\n              <ion-icon name=\\\"time\\\" color=\\\"light\\\" class=\\\"rating-text\\\"></ion-icon>\\n            </div>\\n            <div class=\\\"locate-cont\\\">\\n              <ion-icon name=\\\"heart\\\" color=\\\"light\\\" class=\\\"rating-text\\\"></ion-icon>\\n            </div>\\n            <div class=\\\"locate-cont\\\">\\n              <ion-icon name=\\\"trophy\\\" color=\\\"light\\\" class=\\\"rating-text\\\"></ion-icon>\\n            </div>\\n          </ion-text>\\n        </ion-col> -->\\n\\n      </ion-row>\\n    </ion-grid>\\n  </div>\\n\\n</ion-content>\";"]}